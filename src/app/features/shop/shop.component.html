<h2>å•†åº— ğŸª</h2>
<div class="money">ğŸ’° é‡‘éŒ¢: {{ gameDataService.money }}</div>

<nz-tabs>
  <!-- è²·å…¥é ç±¤ -->
  <nz-tab nzTitle="è³¼è²·">
    <div class="shop-grid">
      @for (item of canBuyItems; track $index) {
        <div class="shop-item" (click)="openItemModal(item, 'buy')">
          <div class="icon">{{ item.icon }}</div>
          <div class="name">{{ item.name }}</div>
          <div class="price">ğŸ’°{{ item.price }}</div>
        </div>
      }
      <!-- <div
        class="shop-item"
        *ngFor="let item of canBuyItems"
        (click)="openItemModal(item, 'buy')"
      >
        <div class="icon">{{ item.icon }}</div>
        <div class="name">{{ item.name }}</div>
        <div class="price">ğŸ’°{{ item.price }}</div>
      </div> -->
    </div>
  </nz-tab>

  <!-- è³£å‡ºé ç±¤ -->
  <nz-tab nzTitle="è²©è³£">
    <div class="inventory-grid">
      @for (item of inventory.getInventory().items; track $index) {
        <div class="inv-item" (click)="openItemModal(item, 'sell')">
          <div class="icon">{{ item.icon }}</div>
          <div class="name">{{ item.name }}</div>
          <div class="qty">x{{ item.quantity }}</div>
        </div>
      }
    </div>
  </nz-tab>
</nz-tabs>

<!-- ç‰©å“æ“ä½œå½ˆçª— -->
<nz-modal
  [(nzVisible)]="isVisible"
  nzTitle="{{ modalTitle }}"
  (nzOnCancel)="isVisible = false"
  (nzOnOk)="confirmAction()"
>
<ng-container *nzModalContent>
  <div class="item-modal">
    <div class="icon">{{ selectedItem?.icon }}</div>
    <div class="desc">
      <p><strong>{{ selectedItem?.name }}</strong></p>
      <p>é¡å‹: {{ selectedItem?.type }}</p>
      @if (actionType === 'buy') {
        <p>åƒ¹æ ¼: ğŸ’°{{ selectedPrice }}</p>
      }
      @else {
        <p>å”®åƒ¹: ğŸ’°{{ selectedSellPrice }}</p>
      }
    </div>

    <div class="quantity">
      <label>æ•¸é‡ï¼š</label>
      <nz-input-number [(ngModel)]="quantity" nzMin="1" nzMax = "{{selectedItem?.quantity}}" />
    </div>
  </div>
  </ng-container>
</nz-modal>
